<!DOCTYPE html>
<html lang="en" ng-app="sobre_app">
	<head>
		<meta charset="UTF-8" />
		<META HTTP-EQUIV="CACHE-CONTROL" CONTENT="NO-CACHE" />

		<script type="text/javascript" src="https://code.angularjs.org/1.5.0/angular.js"></script>
		<script type="text/javascript" src="http://code.jquery.com/jquery-1.12.2.min.js"></script>
		<link rel="stylesheet" type="text/css" media="screen" href="http://getbootstrap.com/dist/css/bootstrap.min.css"></link>
		
	    <script type="text/javascript" src="https://pkijs.org/examples/org/pkijs/common.js"></script>
	    <script type="text/javascript" src="https://pkijs.org/examples/org/pkijs/asn1.js"></script>
	    <script type="text/javascript" src="https://pkijs.org/examples/org/pkijs/x509_schema.js"></script>
	    <script type="text/javascript" src="https://pkijs.org/examples/org/pkijs/x509_simpl.js"></script>
	    <script type="text/javascript" src="https://pkijs.org/examples/org/pkijs/cms_schema.js"></script>
	    <script type="text/javascript" src="https://pkijs.org/examples/org/pkijs/cms_simpl.js"></script>
	    <script type="text/javascript" src="https://pkijs.org/examples/org/pkijs/ocsp_tsp_schema.js"></script>
	    <script type="text/javascript" src="https://pkijs.org/examples/org/pkijs/ocsp_tsp_simpl.js"></script>

		<script type="text/javascript" src="ensobreta_mesta.js"></script>
		
	</head>
	<body ng-controller="sobreCtrl">

		<form id="formSobre" name="formSobre" novalidate>		
		
			<div class="form-group">
				<label for="file">File:</label>
				<input id="file" type="file" accept=".pdf" required />
			</div>

			<hr />

			<div class="form-group">
				<label for="cert">Cert:</label>
				<input id="cert" type="file" accept=".cer" required />
			</div>

			<!-- <div class="form-group">
				<label for="key">Key:</label>
				<input id="key" type="file" accept=".key" required />
			</div> -->
			
			<!-- <div class="form-group">
				<label for="password">Password:</label>
				<input id="password" type="password" required />
			</div> -->
			
			<hr />

			<div class="form-group">
	            <p>
	                <label for="content_enc_alg" style="font-weight:bold">Content encryption algorithm:</label>
	                <select id="content_enc_alg">
	                    <option value="alg_CBC">AES-CBC</option>
	                    <option value="alg_GCM">AES-GCM</option>
	                </select>
	            </p>
	            <p>
	                <label for="content_enc_alg_len" style="font-weight:bold">Content encryption algorithm length:</label>
	                <select id="content_enc_alg_len">
	                    <option value="len_128">128</option>
	                    <!-- Currently in Google Chrome AES 192 bit keys are not supported
	                    <option value="len_192">192</option>
	                    -->
	                    <option value="len_256">256</option>
	                </select>
	            </p>
			</div>

			<!-- ng-disabled="formFirma.$invalid"  -->
			<p align="center">
				<button ng-click="ensobretar()" class="btn btn-success">Envelop it!</button>
			</p>
			
			<br />
			<div style="padding-left: 30px;">

				<b>File B64:</b> <br />
				<textarea rows="5" cols="150" readonly id="file_b64"></textarea>
				
				<br />
				<b>Cert B64:</b> <br />
				<textarea rows="5" cols="150" readonly id="cert_b64"></textarea>

				<!-- <br />
				<b>Key B64:</b> <br />
				<textarea rows="5" cols="150" readonly id="key_b64"></textarea> -->
				
				<br />
				<b>Envelop:</b> <br />
				<textarea rows="3" cols="150" readonly id="el_pinche_envelop" style="border-color: red;"></textarea>

			</div>
		</form>
		
	</body>
</html>